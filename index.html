<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Happy 2026 - Salil's Party</title>
    <style>
        :root { --gold: #ffd700; --dora: #0096d7; }
        body, html { margin: 0; padding: 0; height: 100%; overflow: hidden; font-family: 'Comic Sans MS', cursive; background: #020111; color: white; }
        canvas { position: fixed; top: 0; left: 0; z-index: 1; pointer-events: none; }
        
        /* Center UI */
        #ui-center { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 100; text-align: center; display: none; width: 90%; max-width: 500px; }
        .panel { background: rgba(0,0,0,0.8); backdrop-filter: blur(15px); padding: 30px; border-radius: 30px; border: 2px solid var(--gold); }
        
        /* Video Player */
        #video-box { margin: 20px 0; border-radius: 15px; overflow: hidden; border: 3px solid var(--dora); }
        
        /* Login */
        #login { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 200; background: #000; padding: 40px; border-radius: 30px; border: 2px solid var(--gold); text-align: center; }
        input { width: 80%; padding: 12px; margin: 10px 0; border-radius: 10px; border: none; }
        button { padding: 15px 40px; border-radius: 30px; border: none; background: #ff3131; color: #fff; font-weight: bold; cursor: pointer; }

        /* Doraemon */
        .dora-box { position: fixed; bottom: 20px; right: 20px; z-index: 150; text-align: center; }
        .speech { background: white; color: black; padding: 8px; border-radius: 15px; margin-bottom: 5px; font-weight: bold; font-size: 0.8rem; display: none; }
        .dora-img { width: 110px; animation: float 3s infinite ease-in-out; }
        @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }

        .balloon { position: absolute; width: 60px; height: 80px; border-radius: 50%; cursor: pointer; z-index: 50; }
        #score { position: fixed; top: 20px; left: 20px; z-index: 150; color: var(--gold); font-size: 1.5rem; display: none; }
    </style>
</head>
<body>

<canvas id="c"></canvas>
<div id="score">Bubbles: <span id="s">0</span></div>

<div class="dora-box">
    <div class="speech" id="sp">Let's Dance!</div>
    <img src="https://upload.wikimedia.org/wikipedia/en/b/bd/Doraemon_character.png" class="dora-img">
</div>

<div id="login">
    <h2 style="color: var(--gold);">2026 Celebration</h2>
    <input type="text" id="name" placeholder="Name">
    <input type="text" id="fav" placeholder="Favorite Thing">
    <button onclick="go()">START PARTY ðŸš€</button>
</div>

<div id="ui-center">
    <div class="panel">
        <h1 id="t1" style="margin:0;"></h1>
        <p id="t2" style="color: #ccc;"></p>
        <div id="video-box">
            <iframe id="player" width="100%" height="220" 
            src="https://www.youtube.com/embed/aG2PQ8x9F4g?enablejsapi=1&rel=0" 
            frameborder="0" allow="autoplay; encrypted-media"></iframe>
        </div>
        <div style="font-family: cursive; color: var(--gold); font-size: 2rem;">â€” From Salil</div>
    </div>
</div>

<script>
    const canvas = document.getElementById('c'), ctx = canvas.getContext('2d');
    let parts = [], score = 0;
    function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.onresize = resize; resize();

    function go() {
        // MUSIC TRIGGER: This satisfies the browser's "click to play" rule
        const p = document.getElementById('player');
        p.src += "&autoplay=1";

        document.getElementById('login').style.display = 'none';
        document.getElementById('ui-center').style.display = 'block';
        document.getElementById('score').style.display = 'block';
        document.getElementById('sp').style.display = 'block';
        document.getElementById('t1').innerText = "Happy 2026, " + document.getElementById('name').value + "!";
        document.getElementById('t2').innerText = "Wishing you endless " + document.getElementById('fav').value + "!";
        
        animate();
        setInterval(spawn, 1000);
        setInterval(() => explode(Math.random()*canvas.width, Math.random()*canvas.height*0.4), 2000);
    }

    function explode(x, y, col) {
        for(let i=0; i<40; i++) parts.push({x:x, y:y, c:col || `hsl(${Math.random()*360},100%,60%)`, v:{x:(Math.random()-0.5)*12, y:(Math.random()-0.5)*12}, a:1});
    }

    function spawn() {
        const b = document.createElement('div'), col = `hsl(${Math.random()*360},80%,60%)`;
        b.className = 'balloon'; b.style.background = col; b.style.left = Math.random()*85+'vw'; b.style.bottom = '-100px';
        let pos = -100;
        const m = setInterval(() => {
            pos += 3; b.style.bottom = pos+'px';
            if(pos > window.innerHeight) { clearInterval(m); b.remove(); }
        }, 20);
        b.onclick = () => {
            score++; document.getElementById('s').innerText = score;
            explode(b.offsetLeft+30, window.innerHeight-b.offsetTop-40, col);
            clearInterval(m); b.remove();
        };
        document.body.appendChild(b);
    }

    function animate() {
        ctx.fillStyle = 'rgba(2,1,17,0.2)'; ctx.fillRect(0,0,canvas.width,canvas.height);
        parts.forEach((p,i) => {
            p.x+=p.v.x; p.y+=p.v.y; p.v.y+=0.15; p.a-=0.02;
            if(p.a<=0) parts.splice(i,1);
            else { ctx.globalAlpha=p.a; ctx.fillStyle=p.c; ctx.beginPath(); ctx.arc(p.x,p.y,3,0,Math.PI*2); ctx.fill(); }
        });
        requestAnimationFrame(animate);
    }
</script>
</body>
</html>
